<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Band Stream - Résultats de la Campagne</title>
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;600;700&family=Poppins:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="icon" type="image/png" href="https://i.postimg.cc/6q9gHcqq/favicon-bandstream.png">
    <style>
        body { font-family: 'Poppins', sans-serif; font-weight: 300; margin: 0; padding: 0; background-color: #EBF5DF; color: #000000; line-height: 1.6; }
        header { background-color: #000000; color: #FFFFFF; text-align: center; padding: 2rem 0; position: relative; overflow: hidden; }
        header::before { content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 100%; background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" viewBox="0 0 50 50"><path d="M25 5C15 5 5 15 5 25C5 35 15 45 25 45C35 45 45 35 45 25C45 15 35 5 25 5ZM25 15L35 25L25 35L15 25L25 15Z" fill="%230ED894" fill-opacity="0.1"/></svg>'); background-repeat: repeat; opacity: 0.2; }
        .header-content { display: flex; flex-direction: column; align-items: center; justify-content: center; max-width: 1200px; margin: 0 auto; padding: 0 20px; position: relative; }
        .header-content img { height: 60px; margin-bottom: 10px; }
        .header-content h1 { font-family: 'Quicksand', sans-serif; font-size: 2rem; font-weight: 700; margin: 0; color: #FFFFFF; }
        .header-content p { font-family: 'Poppins', sans-serif; font-weight: 400; font-size: 1.2rem; margin: 10px 0 0; color: #FFFFFF; }
        .container { max-width: 1200px; margin: 40px auto; padding: 20px; }
        .results-section { background-color: white; border-radius: 10px; padding: 30px; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1); margin-bottom: 20px; }
        .results-section h2 { font-family: 'Quicksand', sans-serif; font-size: 1.8rem; font-weight: 600; color: #000000; margin-bottom: 20px; cursor: pointer; }
        .results-section h3 { font-family: 'Quicksand', sans-serif; font-size: 1.4rem; font-weight: 400; color: #000000; }
        .artist-info { margin-bottom: 20px; }
        .artist-details h1 { font-size: 2rem; margin: 0; }
        .artist-details h2 { font-size: 1.6rem; margin: 5px 0; } /* Nouveau pour le nom de la chanson */
        .artist-details h3 { font-size: 1.2rem; margin: 5px 0; }
        .ad-list { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; }
        .ad-item { padding: 10px; border: 1px solid #ccc; border-radius: 5px; }
        .ad-item p { margin: 5px 0; }
        .copy-button { padding: 5px 10px; background-color: #0ED894; color: #000000; border: none; border-radius: 5px; cursor: pointer; }
        .copy-button:hover { background-color: #0BBF7A; }
        .return-link { text-align: center; margin-top: 20px; }
        .return-link a { color: #0ED894; text-decoration: none; font-weight: 500; }
        .return-link a:hover { text-decoration: underline; }
        footer { text-align: center; padding: 20px; font-size: 0.9rem; color: #666; }
    </style>
</head>
<body>
    <header>
        <div class="header-content">
            <img src="https://i.postimg.cc/G2LmHsYT/Bandstream-logo-quadri-blanc.png" alt="Band Stream Logo">
            <h1>Générateur d'Annonces Publicitaires</h1>
            <p>No fluff, just results.</p>
        </div>
    </header>

    <div class="container">
        <div class="results-section">
            <div class="artist-info">
                <div class="artist-details">
                    <h1 id="artist-name">{{ artist | default("Nom d'Artiste") | e }}</h1>
                    <h2 id="song-name">{{ song | default("Nom de la Chanson") | e }}</h2>
                    <h3 id="style-name">{{ style | default("Styles Musicaux") | e }}</h3>
                </div>
            </div>
        </div>

        <div class="results-section">
            <h2>Tendances</h2>
            {% if analysis.trends %}
                {% for trend in analysis.trends %}
                    <p>{{ trend }}</p>
                {% endfor %}
            {% else %}
                <p>Aucune tendance disponible.</p>
            {% endif %}
        </div>

        <div class="results-section">
            <h2>Artistes Similaires</h2>
            {% if analysis.lookalike_artists %}
                {% for artist in analysis.lookalike_artists %}
                    <p>{{ artist }}</p>
                {% endfor %}
            {% else %}
                <p>Aucun artiste similaire disponible.</p>
            {% endif %}
        </div>

        <div class="results-section">
            <h2>Titres Courts (5)</h2>
            <div class="ad-list">
                {% for item in short_titles %}
                    <div class="ad-item">
                        <p>{{ item.title }} ({{ item.character_count }}/30 caractères)</p>
                        <button class="copy-button" onclick="navigator.clipboard.writeText('{{ item.title }}')">Copier</button>
                    </div>
                {% endfor %}
            </div>
        </div>

        <div class="results-section">
            <h2>Titres Longs (5)</h2>
            <div class="ad-list">
                {% for item in long_titles %}
                    <div class="ad-item">
                        <p>{{ item.title }} ({{ item.character_count }}/55 caractères)</p>
                        <button class="copy-button" onclick="navigator.clipboard.writeText('{{ item.title }}')">Copier</button>
                    </div>
                {% endfor %}
            </div>
        </div>

        <div class="results-section">
            <h2>Descriptions Longues (5)</h2>
            <div class="ad-list">
                {% for item in long_descriptions %}
                    <div class="ad-item">
                        <p>{{ item.description }} ({{ item.character_count }}/80 caractères)</p>
                        <button class="copy-button" onclick="navigator.clipboard.writeText('{{ item.description }}')">Copier</button>
                    </div>
                {% endfor %}
            </div>
        </div>

        <div class="results-section">
            <h2>Stratégie optimisée</h2>
            {% if strategy.target_audience and strategy.channels and strategy.budget_allocation %}
                <h3>Public cible : {{ strategy.target_audience }}</h3>
                <h3>Canaux : {{ strategy.channels | join(', ') }}</h3>
                <h3>Allocation du budget :</h3>
                {% for channel, percentage in strategy.budget_allocation.items() %}
                    <p>{{ channel }}: {{ (percentage * 100) | round(1) }}%</p>
                {% endfor %}
            {% else %}
                <p>Aucune stratégie optimisée disponible.</p>
            {% endif %}
        </div>

        <div class="return-link">
            <a href="/">Retour à l'accueil</a>
        </div>
    </div>

    <footer>
        <p>© 2025 Générateur d'Annonces Publicitaires Musicales - Band Stream</p>
    </footer>
</body>
</html>
